{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/48604/Desktop/rekrutacja/TinderForMovies/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/48604/Desktop/rekrutacja/TinderForMovies/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/48604/Desktop/rekrutacja/TinderForMovies/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect,createContext,useMemo,createRef}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";var MoviesData=/*#__PURE__*/createContext();export var MovieDataContext=function MovieDataContext(_ref){var children=_ref.children;var _useState=useState(),_useState2=_slicedToArray(_useState,2),database=_useState2[0],setDatabase=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isReady=_useState4[0],setIsReady=_useState4[1];function getData(){return _getData.apply(this,arguments);}function _getData(){_getData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:return _context2.abrupt(\"return\",fetch(\"http://localhost:8080/recommendations\").then(function(response){return response.json();}));case 1:case\"end\":return _context2.stop();}},_callee2);}));return _getData.apply(this,arguments);}useEffect(function(){var fetchData=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var movieData;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return getData();case 2:movieData=_context.sent;setDatabase(movieData.data);setIsReady(true);case 5:case\"end\":return _context.stop();}},_callee);}));return function fetchData(){return _ref2.apply(this,arguments);};}();fetchData();},[isReady]);if(isReady){return/*#__PURE__*/_jsx(MoviesData.Provider,{value:{database:database,setDatabase:setDatabase},children:children});}};export default MoviesData;","map":{"version":3,"names":["React","useState","useEffect","createContext","useMemo","createRef","jsx","_jsx","MoviesData","MovieDataContext","_ref","children","_useState","_useState2","_slicedToArray","database","setDatabase","_useState3","_useState4","isReady","setIsReady","getData","_getData","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee2","wrap","_callee2$","_context2","prev","next","abrupt","fetch","then","response","json","stop","fetchData","_ref2","_callee","movieData","_callee$","_context","sent","data","Provider","value"],"sources":["C:/Users/48604/Desktop/rekrutacja/TinderForMovies/client/src/MovieDataContext.js"],"sourcesContent":["import React, { useState, useEffect, createContext, useMemo, createRef } from \"react\";\r\n\r\nconst MoviesData = createContext()\r\n\r\nexport const MovieDataContext = ({children}) => {\r\n  const [database, setDatabase] = useState();\r\n \r\n  const [isReady, setIsReady] = useState(false)\r\n  \r\n  async function getData() {\r\n    return fetch(\"http://localhost:8080/recommendations\").then((response) =>\r\n      response.json()\r\n    );\r\n  }\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      const movieData = await getData();\r\n      setDatabase(movieData.data);\r\n      setIsReady(true)\r\n    };\r\n    fetchData();\r\n \r\n},[isReady]);\r\n\r\n\r\n\r\nif(isReady){\r\n    return (\r\n        <MoviesData.Provider value={{database, setDatabase}}>\r\n            {children}\r\n        </MoviesData.Provider> \r\n      )\r\n}\r\n  \r\n}\r\n\r\nexport default MoviesData;\r\n"],"mappings":"0bAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,CAAEC,aAAa,CAAEC,OAAO,CAAEC,SAAS,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAEtF,GAAM,CAAAC,UAAU,cAAGL,aAAa,EAAE,CAElC,MAAO,IAAM,CAAAM,gBAAgB,CAAG,QAAnB,CAAAA,gBAAgBA,CAAAC,IAAA,CAAmB,IAAd,CAAAC,QAAQ,CAAAD,IAAA,CAARC,QAAQ,CACxC,IAAAC,SAAA,CAAgCX,QAAQ,EAAE,CAAAY,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAnCG,QAAQ,CAAAF,UAAA,IAAEG,WAAW,CAAAH,UAAA,IAE5B,IAAAI,UAAA,CAA8BhB,QAAQ,CAAC,KAAK,CAAC,CAAAiB,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAAtCE,OAAO,CAAAD,UAAA,IAAEE,UAAU,CAAAF,UAAA,IAAmB,QAE9B,CAAAG,OAAOA,CAAA,SAAAC,QAAA,CAAAC,KAAA,MAAAC,SAAA,YAAAF,SAAA,EAAAA,QAAA,CAAAG,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAtB,SAAAC,SAAA,SAAAF,mBAAA,GAAAG,IAAA,UAAAC,UAAAC,SAAA,iBAAAA,SAAA,CAAAC,IAAA,CAAAD,SAAA,CAAAE,IAAA,gBAAAF,SAAA,CAAAG,MAAA,UACSC,KAAK,CAAC,uCAAuC,CAAC,CAACC,IAAI,CAAC,SAACC,QAAQ,QAClE,CAAAA,QAAQ,CAACC,IAAI,EAAE,GAChB,0BAAAP,SAAA,CAAAQ,IAAA,MAAAX,QAAA,GACF,UAAAN,QAAA,CAAAC,KAAA,MAAAC,SAAA,GACDtB,SAAS,CAAC,UAAM,CACd,GAAM,CAAAsC,SAAS,6BAAAC,KAAA,CAAAhB,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAe,QAAA,MAAAC,SAAA,QAAAjB,mBAAA,GAAAG,IAAA,UAAAe,SAAAC,QAAA,iBAAAA,QAAA,CAAAb,IAAA,CAAAa,QAAA,CAAAZ,IAAA,SAAAY,QAAA,CAAAZ,IAAA,SACQ,CAAAZ,OAAO,EAAE,QAA3BsB,SAAS,CAAAE,QAAA,CAAAC,IAAA,CACf9B,WAAW,CAAC2B,SAAS,CAACI,IAAI,CAAC,CAC3B3B,UAAU,CAAC,IAAI,CAAC,yBAAAyB,QAAA,CAAAN,IAAA,MAAAG,OAAA,GACjB,kBAJK,CAAAF,SAASA,CAAA,SAAAC,KAAA,CAAAlB,KAAA,MAAAC,SAAA,OAId,CACDgB,SAAS,EAAE,CAEf,CAAC,CAAC,CAACrB,OAAO,CAAC,CAAC,CAIZ,GAAGA,OAAO,CAAC,CACP,mBACIZ,IAAA,CAACC,UAAU,CAACwC,QAAQ,EAACC,KAAK,CAAE,CAAClC,QAAQ,CAARA,QAAQ,CAAEC,WAAW,CAAXA,WAAW,CAAE,CAAAL,QAAA,CAC/CA,QAAQ,EACS,CAE9B,CAEA,CAAC,CAED,cAAe,CAAAH,UAAU"},"metadata":{},"sourceType":"module"}